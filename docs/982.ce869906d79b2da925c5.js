(self.webpackChunksteam_ui=self.webpackChunksteam_ui||[]).push([[982],{3982:(t,e,r)=>{"use strict";r.r(e),r.d(e,{AuthModule:()=>T});var i=r(3423),a=r(3679),o=r(5319),n=r(7716),s=r(263),m=r(3738),l=r(8583),u=r(8295),g=r(9983),p=r(1095);function c(t,e){1&t&&(n.TgZ(0,"mat-error"),n._uU(1," The username and/or password were not recognized "),n.qZA())}let d=(()=>{class t{constructor(t,e,r,i){this.fb=t,this.authService=e,this.router=r,this.cd=i,this.sub=new o.w,this.isLoginInvalid=!1,this.loginForm=this.fb.group({email:["",a.kI.email],password:["",a.kI.required]})}onSubmit(){if(this.loginForm.valid){const{password:t,email:e}=this.loginForm.value;this.sub=this.authService.login$(t,e).subscribe(()=>this.router.navigate(["/games"]),()=>{this.isLoginInvalid=!0,this.cd.markForCheck()})}}ngOnDestroy(){this.sub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(a.qu),n.Y36(s.e),n.Y36(i.F0),n.Y36(n.sBO))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-login"]],decls:19,vars:2,consts:[[3,"formGroup","ngSubmit"],[4,"ngIf"],["matInput","","type","email","placeholder","Email","formControlName","email","required",""],["matInput","","type","password","placeholder","Password","formControlName","password","required",""],[1,"buttons-wrapper"],["mat-raised-button","","color","primary"],["mat-button","","routerLink","../register"]],template:function(t,e){1&t&&(n.TgZ(0,"mat-card"),n.TgZ(1,"mat-card-content"),n.TgZ(2,"form",0),n.NdJ("ngSubmit",function(){return e.onSubmit()}),n.TgZ(3,"h2"),n._uU(4,"Log In"),n.qZA(),n.YNc(5,c,2,0,"mat-error",1),n.TgZ(6,"mat-form-field"),n._UZ(7,"input",2),n.TgZ(8,"mat-error"),n._uU(9," Please provide a valid email address "),n.qZA(),n.qZA(),n.TgZ(10,"mat-form-field"),n._UZ(11,"input",3),n.TgZ(12,"mat-error"),n._uU(13," Please provide a valid password "),n.qZA(),n.qZA(),n.TgZ(14,"div",4),n.TgZ(15,"button",5),n._uU(16,"Login"),n.qZA(),n.TgZ(17,"a",6),n._uU(18,"Register"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&t&&(n.xp6(2),n.Q6J("formGroup",e.loginForm),n.xp6(3),n.Q6J("ngIf",e.isLoginInvalid))},directives:[m.a8,m.dn,a._Y,a.JL,a.sg,l.O5,u.KE,g.Nt,a.Fj,a.JJ,a.u,a.Q7,u.TO,p.lW,p.zs,i.yS],styles:[".mat-form-field[_ngcontent-%COMP%]{display:block;margin-top:1em}.login-link[_ngcontent-%COMP%]{position:absolute;left:0;top:0}.mat-card[_ngcontent-%COMP%]{max-width:400px;margin:4em auto;text-align:center}.buttons-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;grid-gap:5px;gap:5px}"],changeDetection:0}),t})();var h=r(8590),f=r(6627);function Z(t,e){1&t&&(n.TgZ(0,"mat-error"),n._uU(1," The registration failed, please try again with another email or name. "),n.qZA())}const b=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:d},{path:"register",component:(()=>{class t{constructor(t,e,r,i){this.fb=t,this.router=e,this.authService=r,this.cd=i,this.sub=new o.w,this.isRegisterInvalid=!1,this.registerForm=this.fb.group({email:["",a.kI.email],password:["",[a.kI.required,a.kI.minLength(4),a.kI.maxLength(24)]],userName:["",[a.kI.required,a.kI.minLength(2),a.kI.maxLength(24)]],age:["",[a.kI.max(100),a.kI.min(3),a.kI.pattern("[0-9]{1,2}")]]})}onSubmit(){if(this.registerForm.valid){const{password:t,email:e,userName:r,age:i}=this.registerForm.value;this.sub=this.authService.register$(t,e,r,i).subscribe(()=>this.router.navigate(["auth/login"]),()=>{this.isRegisterInvalid=!0,this.cd.markForCheck()})}}ngOnDestroy(){this.sub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(a.qu),n.Y36(i.F0),n.Y36(s.e),n.Y36(n.sBO))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-register"]],decls:27,vars:2,consts:[[3,"formGroup","ngSubmit"],["mat-icon-button","","routerLink","../login","aria-label","Go back to login","matTooltip","Go to login page","matTooltipPosition","above",1,"login-link"],[4,"ngIf"],["matInput","","type","email","placeholder","Email","formControlName","email","required",""],["matInput","","type","password","placeholder","Password","formControlName","password","required",""],["matInput","","type","text","placeholder","Name","formControlName","userName","required",""],["matInput","","type","text","placeholder","Age","formControlName","age"],["mat-raised-button","","color","primary"]],template:function(t,e){1&t&&(n.TgZ(0,"mat-card"),n.TgZ(1,"mat-card-content"),n.TgZ(2,"form",0),n.NdJ("ngSubmit",function(){return e.onSubmit()}),n.TgZ(3,"a",1),n.TgZ(4,"mat-icon"),n._uU(5,"arrow_back"),n.qZA(),n.qZA(),n.TgZ(6,"h2"),n._uU(7,"Registration"),n.qZA(),n.YNc(8,Z,2,0,"mat-error",2),n.TgZ(9,"mat-form-field"),n._UZ(10,"input",3),n.TgZ(11,"mat-error"),n._uU(12," Please provide a valid email address "),n.qZA(),n.qZA(),n.TgZ(13,"mat-form-field"),n._UZ(14,"input",4),n.TgZ(15,"mat-error"),n._uU(16," Please provide a valid password "),n.qZA(),n.qZA(),n.TgZ(17,"mat-form-field"),n._UZ(18,"input",5),n.TgZ(19,"mat-error"),n._uU(20," Please provide a valid name "),n.qZA(),n.qZA(),n.TgZ(21,"mat-form-field"),n._UZ(22,"input",6),n.TgZ(23,"mat-error"),n._uU(24," Please provide a valid age "),n.qZA(),n.qZA(),n.TgZ(25,"button",7),n._uU(26,"Register"),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&t&&(n.xp6(2),n.Q6J("formGroup",e.registerForm),n.xp6(6),n.Q6J("ngIf",e.isRegisterInvalid))},directives:[m.a8,m.dn,a._Y,a.JL,a.sg,p.zs,i.yS,h.gM,f.Hw,l.O5,u.KE,g.Nt,a.Fj,a.JJ,a.u,a.Q7,u.TO,p.lW],styles:[".mat-form-field[_ngcontent-%COMP%]{display:block;margin-top:1em}.login-link[_ngcontent-%COMP%]{position:absolute;left:0;top:0}.mat-card[_ngcontent-%COMP%]{max-width:400px;margin:4em auto;text-align:center}.buttons-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;grid-gap:5px;gap:5px}"],changeDetection:0}),t})()}];let q=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[i.Bz.forChild(b)],i.Bz]}),t})();var v=r(421);let T=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[v.m,q]]}),t})()}}]);